<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="manifest" href="/manifest.json" />
<link rel="icon" type="image/png" sizes="512x512" href="/anidex-logo.png" />
<meta name="theme-color" content="#ffcb05" />
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Anidex</title>
  <link rel="icon" type="image/x-icon" href="anidex.png">
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #e0f0ff;
      color: #003366;
    }
    header {
      background-color: #004a99;
      color: white;
      padding: 1em;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .menu {
      font-size: 1.5em;
      cursor: pointer;
    }
    .sidebar {
      position: fixed;
      top: 0;
      left: 0;
      width: 250px;
      height: 100%;
      background: #003366;
      color: white;
      transform: translateX(-100%);
      transition: transform 0.3s ease;
      padding: 1em;
      z-index: 10;
    }
    .sidebar.show {
      transform: translateX(0);
    }
    .filters {
      margin-top: 2em;
    }
    .filters select, .filters button {
      width: 100%;
      padding: 0.5em;
      font-size: 1em;
      border-radius: 8px;
      border: none;
      margin-bottom: 1em;
      cursor: pointer;
      background-color: #007acc;
      color: white;
      transition: background-color 0.3s;
    }
    .filters button:hover {
      background-color: #005fa3;
    }
    .close-sidebar {
      background: none;
      border: none;
      color: white;
      font-size: 1.2em;
      position: absolute;
      top: 10px;
      right: 10px;
      cursor: pointer;
    }
    .region-block {
      padding: 1em;
      margin-left: 0;
    }
    .region-title {
      font-size: 1.5em;
      margin: 0.5em 0;
      border-bottom: 2px solid #007acc;
      padding-bottom: 0.3em;
    }
    .progress {
      margin: 0.5em 0;
      font-size: 0.9em;
    }
    .progress-bar {
      background: #ccc;
      border-radius: 10px;
      overflow: hidden;
      height: 20px;
      margin-bottom: 1em;
    }
    .progress-bar-inner {
      height: 100%;
      background: #00ccff;
      width: 0%;
      transition: width 0.4s ease-in-out;
    }
    .container {
      padding-left: 0;
      padding-right: 1em;
      padding-top: 1em;
    }
    .card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 1em;
}
    .card {
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      overflow: hidden;
      text-align: center;
      padding: 1em;
      cursor: pointer;
      transition: transform 0.3s, background-color 0.3s;
      width: 180px;
      height: 260px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .card-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 1rem; /* consistent spacing between cards */
  padding: 1rem;
}
    .card:hover {
      transform: scale(1.03);
    }
    .card img {
      width: 100%;
      height: 120px;
      object-fit: cover;
      border-radius: 8px;
    }
    .card.checked {
      border: 3px solid #00ccff;
      background: #d0f7ff;
    }
    .rarity {
      font-size: 0.9em;
      color: #777;
    }
    .modal {
      display: none;
      position: fixed;
      z-index: 20;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.7);
    }

    .container {
  padding-left: 0;
  padding-right: 1em;
  padding-top: 1em;
  transition: margin-left 0.3s ease; /* Ensure it's smooth */
}
    .modal-content {
      background-color: #fefefe;
      margin: 10% auto;
      padding: 20px;
      border: 1px solid #888;
      width: 80%;
      max-width: 500px;
      border-radius: 12px;
    }
    .modal-content img {
      width: 100%;
      border-radius: 12px;
    }
    .close {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
    }
    .rarity {
  font-size: 0.9em;
  font-weight: bold;
}

.rarity.Common {
  color: #909090; 
}

.rarity.Uncommon {
  color: #138a33; 
}

.rarity.Rare {
  color: #9c27b0; 
}


.rarity.Legendary {
  color: #ffb84d; 
}

.rarity.Mythic {
  color: #b82e25; 
}

.modal-content.normal {
  background-color: #c4c4c4;
}
.modal-content.fire {
  background-color: #ffaa9e;
}
.modal-content.water {
  background-color: #5db7d6;
}
.modal-content.grass {
  background-color: #aee7ae;
}
.modal-content.electric {
  background-color: #ffef78;
}
.modal-content.ice {
  background-color: #c7f6ff;
}
.modal-content.fighting {
  background-color: #d1a04b;
}
.modal-content.poison {
  background-color: #ebaeff;
}
.modal-content.ground {
  background-color: #c29e71;
  color: rgb(78, 49, 27);
}
.modal-content.flying {
  background-color: #afcfff;
}
.modal-content.psychic {
  background-color: #8e6982;
}
.modal-content.bug {
  background-color: #9dc49d;
}
.modal-content.rock {
  background-color: #b7ac8f;
}
.modal-content.ghost {
  background-color: #d7bdff;
}
.modal-content.dark {
  background-color: #362f43;
  color: rgb(244, 244, 244);
}
.modal-content.dragon {
  background-color: #4a577e;
}
.modal-content.steel {
  background-color: #4d5b78;
}
.modal-content.fairy {
  background-color: #e480a8;
  color: rgb(255, 216, 216);

}
.wishlist-star {
  font-size: 1em;
  color: #ffcc00;
  margin-left: 6px;
  cursor: pointer;
  user-select: none;
}
.wishlist-star:hover {
  transform: scale(1.2);
}

    .modal-content {
  position: relative;
  overflow: hidden; /* important so shimmer doesn’t leak out */
  /* existing styles like background-color or class like .normal still apply */
}

/* shimmer layer */
.modal-content::before {
  content: '';
  position: absolute;
  top: 0;
  left: -150%;
  width: 200%;
  height: 100%;
  background: linear-gradient(
  95deg,
  transparent 0%,
  rgba(255, 255, 255, 0.05) 35%,
  rgba(255, 255, 255, 0.3) 50%,
  rgba(255, 255, 255, 0.05) 65%,
  transparent 100%
  );
  animation: shimmer 4.5s infinite;
  pointer-events: none;
  z-index: 1;
}

/* Keep modal content above shimmer */
.modal-content > * {
  position: relative;
  z-index: 2;
}

@keyframes shimmer {
  0% {
    left: -120%;
  }
  100% {
    left: 120%;
  }
}

.container.shifted {
  margin-left: 300px; 
  transition: margin-left 0.3s ease;
}
  </style>
</head>
<body>
  <header>
    <div class="menu" onclick="toggleSidebar()">☰</div>
    <h1>Animal Pokedex</h1>
  </header>
  <aside class="sidebar" id="sidebar">
    <button class="close-sidebar" onclick="toggleSidebar()">✕</button>
    <h2>Filters</h2>
    <div class="filters">
      <select id="filterMode" onchange="handleFilterModeChange(); toggleSidebar();">
        <option value="all">Show All</option>
        <option value="found">Show Found Only</option>
        <option value="wishlist">Show Wishlist Only</option>
      </select>
      <select id="regionFilter" onchange="renderAnimals(); toggleSidebar();">
        <option value="all">All Regions</option>
      </select>
    </div>
  </aside>
  <main class="container" id="animalList"></main>

  <div id="infoModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <div id="modalBody"></div>
    </div>
  </div>

  <script>
    let wishlist = JSON.parse(localStorage.getItem("wishlist") || "[]");

    let FoundOnly = false;
let showWishlistOnly = false;

    const animals = JSON.parse(localStorage.getItem("customAnimals") || "[]").concat([
     { "name": "Siberian Tiger", "region": "Siberia", "img": "siberiantiger.png", "type": "Fire", "hp": 100, "atk": 110, "desc": "The Siberian Tiger is the largest of all tiger species, known for its thick fur and powerful build. It roams the snowy forests of eastern Russia and is a solitary, territorial predator. Its fiery strength makes it one of nature’s top carnivores.", "fact": "Tigers have striped skin, not just striped fur.", "rarity": "Rare" },
  { "name": "Orangutan", "region": "Sumatra", "img": "ourangatang.jpg", "type": "Grass", "hp": 70, "atk": 50, "desc": "Orangutans are intelligent primates that live in the treetops of Southeast Asian rainforests. They are known for their reddish fur, long arms, and strong social bonds. These gentle creatures are critically endangered due to habitat loss.", "fact": "Orangutans make tools and build new nests every night.", "rarity": "Uncommon" },
  { "name": "Sun Bear", "region": "Borneo", "img": "sunbear.png", "type": "Normal", "hp": 50, "atk": 55, "desc": "The Sun Bear is the smallest bear species, easily recognized by the crescent-shaped patch on its chest. Native to the tropical forests of Southeast Asia, it is an excellent climber and mainly feeds on fruits, honey, and insects.", "fact": "Sun bears have the longest tongues of any bear, used for getting honey.", "rarity": "Common" },
  { "name": "Moon Bear", "region": "Borneo", "img": "moonbear.png", "type": "Dark", "hp": 65, "atk": 60, "desc": "Moon Bears, also called Asiatic Black Bears, are known for the white crescent-shaped patch on their chest. They inhabit forests across Asia and are mostly nocturnal. These bears have a strong sense of smell and often climb trees to forage.", "fact": "Moon bears are known to stand upright like humans when threatened.", "rarity": "Common" },
  { "name": "Axolotl", "region": "Mexico", "img": "axolotl.png", "type": "Water", "hp": 40, "atk": 30, "desc": "Axolotls are aquatic amphibians famous for their extraordinary ability to regenerate limbs, organs, and even parts of their brain. They never undergo full metamorphosis, keeping their external gills throughout life. Native only to lakes in Mexico, they are critically endangered.", "fact": "Axolotls can regenerate their heart and parts of their brain.", "rarity": "Rare" },
  { "name": "Snow Leopard", "region": "Himalayas", "img": "snowleopard.png", "type": "Ice", "hp": 85, "atk": 95, "desc": "Snow Leopards are elusive big cats adapted to the harsh cold of Central Asia’s mountain ranges. They have thick fur, powerful legs for leaping, and a long tail for balance. Solitary and rare, they are symbols of mystery and beauty in the wild.", "fact": "Snow leopards can leap up to 50 feet in a single bound.", "rarity": "Legendary" },
  { "name": "Kangaroo", "region": "Australia", "img": "kangaroo.png", "type": "Normal", "hp": 70, "atk": 65, "desc": "Kangaroos are marsupials native to Australia, known for their strong hind legs and powerful tail. They travel in groups called mobs and can leap over 25 feet in a single jump. Mothers carry their joeys in pouches until they are old enough to hop along.", "fact": "Kangaroos can’t walk backward.", "rarity": "Common" },
  { "name": "Elephant", "region": "Africa", "img": "elephant.png", "type": "Ground", "hp": 130, "atk": 80, "desc": "African Elephants are the largest land mammals, known for their massive ears and strong tusks. They live in complex matriarchal herds and are vital to ecosystems through their foraging habits. Elephants are intelligent and exhibit grief, joy, and strong memory.", "fact": "Elephants can recognize themselves in mirrors.", "rarity": "Rare" },
  { "name": "Sea Wolf", "region": "Pacific North West", "img": "seawolf.png", "type": "Water", "hp": 90, "atk": 95, "desc": "Sea Wolves are a coastal variety of the gray wolf that thrives along the shorelines and islands of the Pacific Northwest. They are excellent swimmers and often hunt sea creatures, such as fish and seals. Their unique diet sets them apart from inland wolves.", "fact": "Sea wolves can swim several kilometers between islands.", "rarity": "Mythic" },
  { "name": "Grizzly Bear", "region": "Pacific North West", "img": "grizzly.png", "type": "Fighting", "hp": 100, "atk": 85, "desc": "Grizzly Bears are powerful omnivores found in North America’s forests and mountain regions. With muscular builds and sharp claws, they dominate their habitats. They hibernate in winter and are fiercely protective of their young.", "fact": "Grizzlies can smell food from miles away.", "rarity": "Rare" },
  { "name": "Black Bear", "region": "Pacific North West", "img": "blackbear.png", "type": "Normal", "hp": 85, "atk": 70, "desc": "Black bears are adaptable mammals found across North America, often in forested regions. Despite their name, their fur color can vary from black to brown or even cinnamon.", "fact": "Black bears can run up to 30 miles per hour and are excellent climbers.", "rarity": "Common" },
  { "name": "Spirit Bear", "region": "Pacific North West", "img": "spirit.png", "type": "Fairy", "hp": 100, "atk": 80, "desc": "The Spirit Bear, or Kermode bear, is a rare subspecies of the black bear with a creamy white coat. Found in British Columbia’s Great Bear Rainforest, it holds deep spiritual significance for Indigenous peoples.", "fact": "Only about 10% of Kermode bears have the white coat due to a rare genetic trait.", "rarity": "Mythic" },
  { "name": "Sea Otter", "region": "Pacific North West", "img": "seaotter.png", "type": "Water", "hp": 60, "atk": 50, "desc": "Sea otters are playful marine mammals that spend most of their lives floating on their backs. They use tools like rocks to crack open shellfish, showcasing incredible intelligence.", "fact": "Sea otters hold hands while sleeping to avoid drifting apart.", "rarity": "Common" },
  { "name": "River Otter", "region": "Pacific North West", "img": "riverotter.png", "type": "Water", "hp": 55, "atk": 45, "desc": "River otters are sleek, semi-aquatic mammals known for their agility and playful behavior. They live in freshwater rivers and lakes, feeding on fish, amphibians, and small invertebrates.", "fact": "River otters can hold their breath for up to 8 minutes underwater.", "rarity": "Uncommon" },
  { "name": "Vancouver Island Ermine", "region": "Pacific North West", "img": "VIermine.png", "type": "Ground", "hp": 40, "atk": 35, "desc": "This small carnivorous mammal, also known as a stoat, is native to Vancouver Island. It’s agile and quick, feeding on small rodents and birds in dense forest underbrush.", "fact": "In winter, the ermine’s fur turns white except for the black tip of its tail.", "rarity": "Rare" },
  { "name": "Vancouver Island Marmot", "region": "Pacific North West", "img": "VImarmot.png", "type": "Grass", "hp": 70, "atk": 30, "desc": "This critically endangered rodent is found only on Vancouver Island. It hibernates for much of the year and lives in alpine meadows and rocky slopes.", "fact": "Vancouver Island marmots whistle to warn others of danger.", "rarity": "Rare" },
  { "name": "Orca", "region": "Pacific North West", "img": "Orca.png", "type": "Water", "hp": 100, "atk": 95, "desc": "Orcas, or killer whales, are apex predators known for their intelligence and complex social groups. They hunt in pods and can be seen off the Pacific Northwest coast.", "fact": "Each orca pod has its own dialect of calls and clicks.", "rarity": "Legendary" },
  { "name": "Grey Whale", "region": "Pacific North West", "img": "greywhale.png", "type": "Water", "hp": 90, "atk": 80, "desc": "Grey whales are known for their long migrations between feeding grounds in the Arctic and breeding grounds in Baja California. They are baleen whales, filtering small organisms from the water.", "fact": "Grey whales are one of the longest migrating mammals on Earth, traveling up to 12,000 miles annually.", "rarity": "Rare" },
  { "name": "Pine Marten", "region": "Pacific North West", "img": "pinemarten.png", "type": "Ground", "hp": 55, "atk": 60, "desc": "Pine martens are agile carnivores that live in the forests of North America and Europe. They are skilled hunters, often climbing trees to hunt small mammals and birds.", "fact": "Pine martens have a distinctive throat patch that can be yellow or orange.", "rarity": "Uncommon" },
  { "name": "Cascades Frog", "region": "Pacific North West", "img": "cascadesfrog.png", "type": "Water", "hp": 40, "atk": 30, "desc": "The Cascades frog is a small amphibian found in the wetlands of the Cascades mountain range. They are primarily active during the spring and summer months and have a unique croak.", "fact": "The Cascades frog is one of the few frogs that can survive in high-altitude environments.", "rarity": "Rare" },
  { "name": "Western Toad", "region": "Pacific North West", "img": "westerntoad.png", "type": "Water", "hp": 45, "atk": 35, "desc": "The Western Toad is commonly found in moist environments across the Pacific Northwest. It has a distinctive bumpy skin texture and is known for its slow-moving, deliberate behavior.", "fact": "Western toads secrete a toxic substance from their skin to deter predators.", "rarity": "Common" },
  { "name": "Northern Flicker", "region": "Pacific North West", "img": "northernflicker.png", "type": "Flying", "hp": 55, "atk": 45, "desc": "The Northern Flicker is a type of woodpecker found across North America. It is unique among woodpeckers because it often feeds on the ground, searching for ants and beetles.", "fact": "Northern Flickers are one of the few woodpeckers that migrate seasonally.", "rarity": "Uncommon" },
  { "name": "Mountain Lion", "region": "Pacific North West", "img": "mountainlion.png", "type": "Fighting", "hp": 85, "atk": 90, "desc": "Mountain Lions, also known as cougars or pumas, are large felines that range from Canada to South America. They are solitary and stealthy predators, known for their powerful leaping ability.", "fact": "Mountain Lions can leap over 18 feet vertically.", "rarity": "Rare" },
  { "name": "Canada Lynx", "region": "Pacific North West", "img": "canadalynx.png", "type": "Fighting", "hp": 70, "atk": 65, "desc": "The Canada Lynx is a medium-sized wild cat found in northern forests. It has large paws that act like snowshoes, helping it move through deep snow. They are solitary hunters, preying mainly on snowshoe hares.", "fact": "Lynx have incredible night vision that helps them hunt in low light.", "rarity": "Uncommon" },
  { "name": "Cougar", "region": "Pacific North West", "img": "cougar.png", "type": "Fighting", "hp": 100, "atk": 110, "desc": "The Cougar, or Puma, is a large predator found in the Americas. Known for its agility and strength, it is capable of taking down large prey like deer. Its stealthy nature makes it a formidable hunter.", "fact": "Cougars have the largest range of any wild terrestrial mammal in the Americas.", "rarity": "Legendary" },
  { "name": "Bald Eagle", "region": "North America", "img": "baldeagle.png", "type": "Flying", "hp": 75, "atk": 85, "desc": "The Bald Eagle is a symbol of freedom in the United States, known for its white head and tail. It is a powerful bird of prey, primarily feeding on fish and scavenging other animals.", "fact": "Bald Eagles have a 7-foot wingspan and can fly at speeds of up to 40 mph.", "rarity": "Rare" },
  { "name": "Golden Eagle", "region": "North America", "img": "goldeneagle.png", "type": "Flying", "hp": 80, "atk": 90, "desc": "Golden Eagles are large birds of prey known for their golden-brown plumage and sharp eyesight. They hunt a variety of animals, including rabbits and deer, and are found across North America, Europe, and Asia.", "fact": "Golden Eagles can dive at speeds of up to 150 mph when hunting.", "rarity": "Rare" },
  { "name": "Great Horned Owl", "region": "North America", "img": "greathornedowl.png", "type": "Flying", "hp": 50, "atk": 60, "desc": "Great Horned Owls are large owls with tufts of feathers resembling horns. They are highly adaptable and can be found in a wide range of habitats, from forests to urban areas. Their hoots are often a symbol of the night.", "fact": "Great Horned Owls can rotate their heads 270 degrees.", "rarity": "Uncommon" },
  { "name": "Snowy Owl", "region": "North America", "img": "snowyowl.png", "type": "Flying", "hp": 60, "atk": 50, "desc": "Snowy Owls are large, white owls found in the Arctic. They are known for their ability to blend in with the snowy landscape, and are primarily prey hunters of small mammals like lemmings.", "fact": "Snowy Owls can live up to 10 years in the wild.", "rarity": "Rare" },
{ name: "Humpback Whale", region: "Pacific North West", img: "humpback.png", type: "Water", hp: 120, atk: 85, desc: "Humpback whales are known for their massive size and acrobatic breaches. They migrate seasonally and use complex songs to communicate.", fact: "Male humpbacks sing songs that can last up to 20 minutes.", rarity: "Rare" }, 
{ name: "Grey Wolf", region: "Pacific North West", img: "greywolf.png", type: "Dark", hp: 80, atk: 85, desc: "Grey wolves are highly social predators that live and hunt in packs. They play a key role in maintaining ecosystem balance by controlling prey populations.", fact: "Wolves can hear other wolves howling from over six miles away.", rarity: "Rare" }, 
{ name: "Haida Ermine", region: "Pacific North West", img: "Hermine.png", type: "Water", hp: 40, atk: 30, desc: "This distinct subspecies of ermine is native to the Haida Gwaii islands. It’s small, agile, and known for its seasonal coat changes and quick hunting skills.", fact: "Haida ermine populations are isolated and genetically unique.", rarity: "Rare" }, 
{ name: "Dungeness Crab", region: "Pacific North West", img: "dungenouscrab.png", type: "Water", hp: 45, atk: 25, desc: "Dungeness crabs are large crustaceans found along the West Coast, often in eelgrass beds and sandy bottoms. They’re prized for their sweet meat and ecological role.", fact: "They walk sideways and can molt multiple times a year.", rarity: "Common" }, 
{ name: "Tufted Puffin", region: "Pacific North West", img: "tuftedpuffin.png", type: "Flying", hp: 50, atk: 40, desc: "Tufted puffins are striking seabirds with bright beaks and golden tufts during the breeding season. They dive for fish and nest in cliffside burrows.", fact: "They can dive over 200 feet underwater in search of prey.", rarity: "Uncommon" }, 
{ name: "Alaskan Moose", region: "Pacific North West", img: "alaskanmoose.png", type: "Ground", hp: 120, atk: 75, desc: "Alaskan moose are the largest subspecies of moose, towering over 6 feet tall at the shoulder. They thrive in boreal forests and wetlands.", fact: "A moose’s antlers can span over six feet across.", rarity: "Uncommon" }, 
{ name: "Humboldt’s Flying Squirrel", region: "Pacific North West", img: "Hflyingsquirrel.png", type: "Flying", hp: 55, atk: 35, desc: "These nocturnal gliders live in the coastal forests of the Pacific Northwest. They’re elusive and were only recently confirmed as a distinct species.", fact: "They glow pink under UV light — a mystery still being studied.", rarity: "Legendary" }, 
{ name: "Douglas Squirrel", region: "Pacific North West", img: "douglassquirrel.png", type: "Grass", hp: 40, atk: 30, desc: "Douglas squirrels are energetic forest dwellers known for their rapid movements and sharp chatter. They live in coniferous forests and play a role in spreading tree seeds.", fact: "They create large middens — piles of discarded cone scales — at the base of trees.", rarity: "Uncommon" }, 
{ name: "Red Squirrel", region: "Pacific North West", img: "redsquirrel.png", type: "Ground", hp: 35, atk: 25, desc: "Red squirrels are small, territorial rodents commonly found in forests across North America. They are especially vocal and fiercely protect their food caches.", fact: "They store hundreds of pine cones in a single season to prepare for winter.", rarity: "Common" }, 
{ name: "Coho Salmon", region: "Pacific North West", img: "coho.png", type: "Water", hp: 45, atk: 50, desc: "Coho salmon are powerful migratory fish that travel from ocean waters back to freshwater streams to spawn. Their lifecycle is a vital part of the food web.", fact: "They change color dramatically when migrating upstream to breed.", rarity: "Common" }, 
{ name: "Great Blue Heron", region: "Pacific North West", img: "gbh.png", type: "Water", hp: 60, atk: 45, desc: "This tall, elegant bird is a masterful hunter in wetlands and shorelines. Great blue herons strike quickly with their long bills to snatch fish and frogs.", fact: "They can stand motionless for minutes waiting for prey to approach.", rarity: "Rare" }, 
{ name: "Elk", region: "Pacific North West", img: "elk.png", type: "Grass", hp: 100, atk: 65, desc: "Elk are large, social deer often found grazing in herds across meadows and forests. Males use their antlers to spar during mating season.", fact: "Their bugle call can be heard up to a mile away during rutting season.", rarity: "Uncommon" }, 
{ name: "Red-Tailed Hawk", region: "Pacific North West", img: "rthawk.png", type: "Flying", hp: 55, atk: 60, desc: "Red-tailed hawks are powerful raptors with keen eyesight. They soar over open landscapes searching for rodents, often identified by their rusty-red tail.", fact: "They mate for life and return to the same nesting site each year.", rarity: "Uncommon" }, 
{ name: "Sea Lion", region: "Pacific North West", img: "sealion.png", type: "Water", hp: 90, atk: 60, desc: "Sea lions are social, vocal marine mammals found lounging on coastal rocks and piers. They are agile swimmers and skilled fish hunters, using their flippers to glide through water with ease.", fact: "A group of sea lions on land is called a colony, but in water, it’s called a raft.", rarity: "Uncommon" }, 
{ name: "Belted Kingfisher", region: "Pacific North West", img: "bkingfisher.png", type: "Flying", hp: 40, atk: 55, desc: "The belted kingfisher is a striking bird often seen perched near rivers and lakes. With a shaggy crest and powerful beak, it dives headfirst into water to catch fish.", fact: "They nest in tunnels that can be up to 8 feet deep along riverbanks.", rarity: "Rare" }, 
{ name: "Mountain Beaver", region: "Pacific North West", img: "mountainbeaver.png", type: "Ground", hp: 50, atk: 30, desc: "Despite the name, mountain beavers aren’t true beavers and are rarely seen due to their shy, burrowing nature. They live in moist forests and feed on ferns and shrubs.", fact: "They are considered living fossils and have remained largely unchanged for millions of years.", rarity: "Rare" },
{ name: "Panda", region: "China", img: "panda.png", type: "Grass", hp: 100, atk: 40, desc: "The giant panda is a gentle herbivore native to China’s bamboo forests. Known for its distinct black and white fur, it spends most of its day eating bamboo.", fact: "Despite their size, pandas are excellent climbers.", rarity: "Legendary" },
{ name: "Tasmanian Devil", region: "Australia", img: "tasmanian_dev.png", type: "Dark", hp: 70, atk: 60, desc: "Tasmanian devils are fierce carnivores native to Tasmania, known for their aggressive scavenging behavior and powerful bite.", fact: "They can produce an extremely loud, eerie scream to defend their territory.", rarity: "Rare" },
{ name: "Kangaroo", region: "Australia", img: "kangaroo.png", type: "Grass", hp: 100, atk: 80, desc: "Kangaroos are large, herbivorous marsupials that are instantly recognizable for their strong hind legs and large tails. They are known for their hopping movement.", fact: "Kangaroos can leap over 3 meters in a single bound.", rarity: "Common" },
{ name: "Emu", region: "Australia", img: "emu.png", type: "Flying", hp: 60, atk: 45, desc: "The emu is the second-largest living bird, native to Australia. It has strong legs that allow it to run at speeds of up to 50 km/h.", fact: "Emus can’t fly but are excellent runners and can sustain high speeds for long distances.", rarity: "Uncommon" },
{ name: "Crocodile", region: "Australia", img: "crocodile.png", type: "Water", hp: 150, atk: 120, desc: "Crocodiles are large reptiles known for their powerful jaws and aggressive nature. They are proficient hunters and ambush their prey in both freshwater and saltwater habitats.", fact: "Crocodiles have the strongest bite of any animal on the planet.", rarity: "Legendary" },
{ name: "Giant Clam", region: "Australia", img: "giantclam.png", type: "Water", hp: 80, atk: 40, desc: "Giant clams are one of the largest bivalves in the world, known for their vibrant shells and ecological importance in coral reef ecosystems.", fact: "Giant clams can live for over 100 years and grow up to 4 feet in length.", rarity: "Rare" },
{ name: "Great White Shark", region: "Australia", img: "greatwhiteshark.png", type: "Water", hp: 200, atk: 150, desc: "The great white shark is a powerful predator with a reputation for its size and aggression. It primarily hunts marine mammals and large fish.", fact: "Great white sharks can detect a drop of blood in 25 gallons of water.", rarity: "Legendary" },
{ name: "Flying Fox", region: "Australia", img: "flyingfox.png", type: "Flying", hp: 50, atk: 30, desc: "Flying foxes are large fruit bats found in Australia, known for their keen sense of smell and impressive wingspans.", fact: "Flying foxes can fly up to 50 kilometers in search of food.", rarity: "Uncommon" },
{ name: "Wedge-tailed Eagle", region: "Australia", img: "wedgeeagle.png", type: "Flying", hp: 90, atk: 85, desc: "The wedge-tailed eagle is one of the largest birds of prey in Australia, known for its distinctive wedge-shaped tail and powerful hunting skills.", fact: "Wedge-tailed eagles can spot prey from miles away, thanks to their keen eyesight.", rarity: "Uncommon" },
{ name: "Red Panda", region: "China", img: "redpanda.png", type: "Grass", hp: 60, atk: 30, desc: "Red pandas are tree-dwelling mammals with reddish fur and ringed tails. They are solitary and mostly active at dawn and dusk, feeding on bamboo, berries, and eggs.", fact: "They use their bushy tails as blankets in cold weather.", rarity: "Rare" },
{ name: "Komodo Dragon", region: "Komodo", img: "komodo.png", type: "Dragon", hp: 110, atk: 95, desc: "The Komodo dragon is the world’s largest lizard, found only on a few Indonesian islands. It uses a venomous bite and ambush tactics to hunt deer, pigs, and even water buffalo.", fact: "They can smell prey from nearly 2.5 miles away using their forked tongue.", rarity: "Rare" },
{ name: "Polar Bear", region: "Arctic", img: "polarbear.png", type: "Ice", hp: 130, atk: 85, desc: "Polar bears are the largest land carnivores, perfectly adapted to life on the Arctic sea ice. Their thick fur and fat keep them warm, and they rely heavily on hunting seals for food.", fact: "Beneath their fur, polar bears have black skin to help absorb heat from the sun.", rarity: "Rare" },
{ name: "Jaguar", region: "Amazon", img: "jaguar.png", type: "Dark", hp: 95, atk: 105, desc: "Jaguars are powerful and elusive big cats that roam the dense Amazon rainforest. Known for their strength and stealth, they are capable of crushing skulls with their mighty jaws.", fact: "Unlike most cats, jaguars love water and are excellent swimmers.", rarity: "Rare" },
{ name: "Gibbon", region: "South-East Asia", img: "gibbon.png", type: "Dark", hp: 60, atk: 40, desc: "Gibbons are agile tree-dwelling primates known for their incredible arm strength and loud, melodic calls. They swing between branches using a form of movement called brachiation.", fact: "Gibbons are among the few primates that form lifelong monogamous pairs.", rarity: "Uncommon" },
{ name: "Golden Langur", region: "South-East Asia", img: "goldenlangur.png", type: "Electric", hp: 70, atk: 60, desc: "The golden langur is a rare and striking monkey with a golden coat, found in the forests of Bhutan and India. It is an important symbol of conservation due to its limited habitat.", fact: "They are sacred to local communities and were only discovered by scientists in 1953.", rarity: "Legendary" },
{ name: "Blue Penguin", region: "Antarctica", img: "bluepenguin.png", type: "Fairy", hp: 45, atk: 30, desc: "Also known as little penguins, blue penguins are the smallest species of penguin. They have bluish feathers and live along southern coasts where they nest in burrows.", fact: "They usually return to the same nesting site year after year.", rarity: "Common" },
{ name: "Manta Ray", region: "South Pacific", img: "mantaray.jpg", type: "Water", hp: 150, atk: 20, desc: "Manta rays are gentle giants that glide gracefully through tropical oceans. Despite their size, they feed only on plankton and are known for their intelligence and curiosity.", fact: "They can have a wingspan of up to 29 feet!", rarity: "Rare" },
{ name: "Sloth", region: "Amazon", img: "sloth.png", type: "Normal", hp: 90, atk: 20, desc: "Sloths are slow-moving mammals that live high in the trees of Central and South America. They move so slowly that algae grow on their fur, helping them blend in with the forest. They sleep up to 15 hours a day and come down from the trees only about once a week.", fact: "Sloths can hold their breath longer than dolphins—up to 40 minutes underwater!", rarity: "Common" },
{ name: "Koala", region: "Australia", img: "koala.png", type: "Grass", hp: 75, atk: 40, desc: "Koalas are marsupials native to Australia, known for their sleepy demeanor and love of eucalyptus leaves. They spend most of their time in trees and rarely drink water, getting moisture from their leafy diet. Koalas sleep up to 20 hours a day to conserve energy.", fact: "Each koala has a unique nose pattern, like a fingerprint.", rarity: "Uncommon" },
{ name: "Wallaby", region: "Australia", img: "wallaby.png", type: "Normal", hp: 70, atk: 50, desc: "Wallabies are small- to medium-sized marsupials closely related to kangaroos. They live in forests, grasslands, and rocky outcrops across Australia and nearby islands. Wallabies are known for their strong legs and bounding leaps.", fact: "Wallabies use their tails like a third leg to help them balance and push off when jumping.", rarity: "Common" },
{ name: "Wombat", region: "Australia", img: "wombat.png", type: "Ground", hp: 100, atk: 55, desc: "Wombats are stout, burrowing marsupials native to Australia. They have powerful claws for digging and a toughened rear end they use to block predators from entering their burrows. Wombats are mostly nocturnal and herbivorous.", fact: "Wombats poop in cubes to keep their droppings from rolling away and mark their territory.", rarity: "Uncommon" },
{ name: "Quokka", region: "Australia", img: "quokka.png", type: "Fairy", hp: 60, atk: 35, desc: "Quokkas are small, cheerful-looking marsupials found mostly on Rottnest Island in Australia. They’re known as ‘the world’s happiest animal’ due to their natural smile. Quokkas are herbivores and are most active at night.", fact: "Quokkas can survive long periods without food or water by storing fat in their tails.", rarity: "Rare" }   
    ]);

    const allRegions = [...new Set(animals.map(a => a.region))];
    const regionFilter = document.getElementById("regionFilter");
    allRegions.forEach(region => {
      const option = document.createElement("option");
      option.value = region;
      option.textContent = region;
      regionFilter.appendChild(option);
    });

    let foundAnimals = JSON.parse(localStorage.getItem("foundAnimals") || "[]");
    let showFoundOnly = false;

    function toggleSidebar() {
  const sidebar = document.getElementById("sidebar");
  const container = document.querySelector(".container");
  sidebar.classList.toggle("show");
  container.classList.toggle("shifted");
}

    function toggleFound(name) {
      if (foundAnimals.includes(name)) {
        foundAnimals = foundAnimals.filter(n => n !== name);
      } else {
        foundAnimals.push(name);
      }
      localStorage.setItem("foundAnimals", JSON.stringify(foundAnimals));
      renderAnimals();
    }
    
    function handleFilterModeChange() {
  const mode = document.getElementById("filterMode").value;
  showFoundOnly = mode === "found";
  showWishlistOnly = mode === "wishlist";
  renderAnimals();
}

function toggleShowWishlist() {
  if (showWishlistOnly) {
    showWishlistOnly = false;
  } else {
    showWishlistOnly = true;
    showFoundOnly = false;
  }
  updateFilterButtons();
  renderAnimals();
}

    function toggleShowFound() {
      showFoundOnly = !showFoundOnly;
      document.getElementById("foundBtn").innerText = showFoundOnly ? "Show All" : "Show Found Only";
      renderAnimals();
    }

    function openModal(animal) {
  const modalBody = document.getElementById("modalBody");
  const modalContent = document.querySelector(".modal-content");

  // Remove old type classes
  modalContent.className = "modal-content";

  // Add the new type class
  const typeClass = animal.type.toLowerCase();
  modalContent.classList.add(typeClass);

  modalBody.innerHTML = `
    <h2>${animal.name}</h2>
    <img src="${animal.img}" alt="${animal.name}" />
    <p><strong>Type:</strong> ${animal.type}</p>
    <p><strong>HP:</strong> ${animal.hp}</p>
    <p><strong>Attack:</strong> ${animal.atk}</p>
    <p><strong>Rarity:</strong> ${animal.rarity}</p>
    <p>${animal.desc}</p>
    <p><em>Fun Fact:</em> ${animal.fact}</p>
  `;
  document.getElementById("infoModal").style.display = "block";
}
const groupedAnimals = {};

// Group animals by region
animals.forEach(animal => {
  if (!groupedAnimals[animal.region]) {
    groupedAnimals[animal.region] = [];
  }
  groupedAnimals[animal.region].push(animal);
});

// Sort each region's animals alphabetically
for (const region in groupedAnimals) {
  groupedAnimals[region].sort((a, b) => a.name.localeCompare(b.name));
}

    function closeModal() {
      document.getElementById("infoModal").style.display = "none";
    }
    function toggleWishlist(name) {
  if (wishlist.includes(name)) {
    wishlist = wishlist.filter(n => n !== name);
  } else {
    wishlist.push(name);
  }
  localStorage.setItem("wishlist", JSON.stringify(wishlist));
  renderAnimals();
}

    function renderAnimals() {
      const container = document.getElementById("animalList");
      const filterVal = document.getElementById("regionFilter").value;
      container.innerHTML = "";

      animals.sort((a, b) => a.name.localeCompare(b.name));

      const regions = [...new Set(animals.map(a => a.region))].sort();
      regions.forEach(region => {
        if (filterVal !== "all" && filterVal !== region) return;

        const regionDiv = document.createElement("div");
        regionDiv.className = "region-block";

        const title = document.createElement("h2");
        title.className = "region-title";
        title.textContent = region;
        regionDiv.appendChild(title);

        let animalsInRegion = animals.filter(a => a.region === region);

if (showFoundOnly) {
  animalsInRegion = animalsInRegion.filter(a => foundAnimals.includes(a.name));
}
if (showWishlistOnly) {
  animalsInRegion = animalsInRegion.filter(a => wishlist.includes(a.name));
}
        const foundInRegion = animalsInRegion.filter(a => foundAnimals.includes(a.name)).length;

        const progress = document.createElement("div");
        progress.className = "progress";
        progress.innerHTML = `${foundInRegion} / ${animalsInRegion.length} found`;

        const barOuter = document.createElement("div");
        barOuter.className = "progress-bar";
        const barInner = document.createElement("div");
        barInner.className = "progress-bar-inner";
        barInner.style.width = `${(foundInRegion / animalsInRegion.length) * 100}%`;
        barOuter.appendChild(barInner);

        regionDiv.appendChild(progress);
        regionDiv.appendChild(barOuter);

        const grid = document.createElement("div");
        grid.className = "card-grid";

        animalsInRegion.forEach(animal => {
          const isFound = foundAnimals.includes(animal.name);
const isWish = wishlist.includes(animal.name);

const card = document.createElement("div");
card.className = `card${isFound ? " checked" : ""}${isWish ? " wishlist" : ""}`;
card.onclick = () => toggleFound(animal.name);
card.ondblclick = () => openModal(animal);

// Add a wishlist star icon or label
card.innerHTML = `
  <img src="${animal.img}" alt="${animal.name}" />
 <h3>
  ${animal.name}
  <span class="wishlist-star" onclick="event.stopPropagation(); toggleWishlist('${animal.name}')">
    ${isWish ? "★" : "☆"}
  </span>
</h3>
  <p class="rarity ${animal.rarity}">${animal.rarity}</p>
 
`;
          grid.appendChild(card);
        });

        if (grid.children.length > 0) {
          regionDiv.appendChild(grid);
          container.appendChild(regionDiv);
        }
      });
    }

    window.onclick = function(event) {
      const modal = document.getElementById("infoModal");
      if (event.target === modal) closeModal();
    }
    function toggleSidebar() {
  const sidebar = document.getElementById("sidebar");
  const container = document.querySelector(".container");
  sidebar.classList.toggle("show");
  container.classList.toggle("shifted");
}

    renderAnimals();
    updateFilterButtons();
  </script>
</bo dy>
</html>
